<template>
  <main class="space-y-8">
    <!-- Breadcrumbs -->
    <Breadcrumbs :items="[{ label: 'Accueil' }]" />

    <!-- =========================
         1. HERO SECTION ‚Äì Identit√© & Mission GPM (Full-Width)
         ========================= -->
    <HeroSection
      :tag-override="t('gpmHero.tag', 'Op√©rateur national tchadien')"
      :title-override="t('gpmHero.title', 'Connecter le Tchad au monde par des infrastructures logistiques modernes')"
      :subtitle-override="t('gpmHero.subtitle', 'Genesis Port Management d√©veloppe et g√®re les plateformes logistiques r√©gionales au service du commerce ext√©rieur du Tchad.')"
      :trust-override="t('gpmHero.trust', 'Bas√© √† N\'Djamena ‚Ä¢ Op√©rateur CEMAC')"
      :cta-invest-label="t('gpmHero.ctaPrimary', 'D√©couvrir nos projets')"
      :cta-secondary-label="t('gpmHero.ctaSecondary', 'Nous contacter')"
      invest-to="/projects"
      secondary-to="/contact"
      :feature-badges="[]"
      org-name="Genesis Port Management"
      org-url="https://portsectchad.com"
      project-name="R√©seau logistique CEMAC"
      :project-description="t('gpmHero.subtitle', '')"
    />

    <!-- =========================
         2. PR√âSENTATION GPM ‚Äì "Qui sommes-nous ?"
         ========================= -->
    <AboutGPM
      data-testid="home-about-gpm"
      :title="t('gpm.title', 'Un op√©rateur tchadien de r√©f√©rence')"
      :intro="t('gpm.intro', '')"
    />

    <!-- =========================
         3. VISION 2030 ‚Äì Frise strat√©gique
         ========================= -->
    <Timeline
      data-testid="home-vision"
      :title="t('vision.title', 'Notre Vision 2030')"
      :intro="t('vision.intro', '')"
    />

    <!-- =========================
         4. DOMAINES D'EXPERTISE ‚Äì 6 cartes iconiques
         ========================= -->
    <ProjectHighlights
      data-testid="home-expertise"
      :title="t('expertise.title', 'Nos domaines d\'expertise')"
      :items="expertiseItems"
      :columns="3"
    />

    <!-- =========================
         6. POURQUOI GPM ? ‚Äì Avantages comp√©titifs
         ========================= -->
    <section class="max-w-6xl mx-auto p-6 space-y-6">
      <header class="flex items-center gap-2 text-sm opacity-80">
        <span class="inline-block h-2 w-2 rounded-full bg-emerald-400"></span>
        <h2 class="font-semibold">{{ t('whyGpm.title', 'Pourquoi GPM ?') }}</h2>
      </header>

      <div class="grid md:grid-cols-2 gap-6">
        <!-- Avantage 1 -->
        <div class="p-6 rounded-xl border border-emerald-800/40 bg-gradient-to-br from-emerald-900/20 to-neutral-900 hover:border-emerald-700/60 transition-all group">
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-emerald-500/20 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform">
              {{ tArray('whyGpm.items')[0]?.icon || 'üéØ' }}
            </div>
            <div class="flex-1">
              <h3 class="font-bold text-lg mb-2 text-emerald-300">{{ tArray('whyGpm.items')[0]?.title || 'Exclusivit√© nationale' }}</h3>
              <p class="text-sm opacity-90 leading-relaxed">
                {{ tArray('whyGpm.items')[0]?.text || 'Op√©rateur exclusif mandat√© par l\'√âtat tchadien pour la gestion du fret national via le Port Sec de Douala.' }}
              </p>
            </div>
          </div>
        </div>

        <!-- Avantage 2 -->
        <div class="p-6 rounded-xl border border-amber-800/40 bg-gradient-to-br from-amber-900/20 to-neutral-900 hover:border-amber-700/60 transition-all group">
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-amber-500/20 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform">
              {{ tArray('whyGpm.items')[1]?.icon || 'üí∞' }}
            </div>
            <div class="flex-1">
              <h3 class="font-bold text-lg mb-2 text-amber-300">{{ tArray('whyGpm.items')[1]?.title || 'R√©duction des co√ªts' }}</h3>
              <p class="text-sm opacity-90 leading-relaxed">
                {{ tArray('whyGpm.items')[1]?.text || 'Jusqu\'√† -40% sur les co√ªts logistiques et -50% sur les d√©lais de transit pour les op√©rateurs √©conomiques.' }}
              </p>
            </div>
          </div>
        </div>

        <!-- Avantage 3 -->
        <div class="p-6 rounded-xl border border-purple-800/40 bg-gradient-to-br from-purple-900/20 to-neutral-900 hover:border-purple-700/60 transition-all group">
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-purple-500/20 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform">
              {{ tArray('whyGpm.items')[2]?.icon || '‚öñÔ∏è' }}
            </div>
            <div class="flex-1">
              <h3 class="font-bold text-lg mb-2 text-purple-300">{{ tArray('whyGpm.items')[2]?.title || 'Cadre juridique solide' }}</h3>
              <p class="text-sm opacity-90 leading-relaxed">
                {{ tArray('whyGpm.items')[2]?.text || 'Convention BOT sign√©e, accords bilat√©raux Tchad-Cameroun et protection internationale (Convention de New York 1967).' }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- =========================
         7. IMPACT & R√âSEAU ‚Äì KPIs + Partenaires
         ========================= -->
    <section class="max-w-6xl mx-auto p-6 space-y-8">
      <!-- KPIs -->
      <div class="space-y-3">
        <header class="flex items-center gap-2 text-sm opacity-80 mb-3">
          <span class="inline-block h-2 w-2 rounded-full bg-emerald-400"></span>
          <h2 class="font-semibold">{{ t('impactKpis.title','Nos r√©sultats concrets') }}</h2>
        </header>
        <KpiStrip
          mode="impact"
          :columns="5"
          :show-title="false"
          :animated="true"
          data-testid="kpi-impact"
        />
      </div>

      <!-- R√©seau visuel -->
      <div class="p-8 rounded-2xl border border-neutral-800 bg-gradient-to-br from-neutral-900 to-neutral-950">
        <h3 class="text-lg font-semibold opacity-90 mb-6 text-center">{{ t('network.title', 'Notre r√©seau logistique') }}</h3>
        <div class="grid md:grid-cols-3 gap-6">
          <!-- Douala -->
          <div class="text-center space-y-3">
            <div class="relative inline-block">
              <div class="w-20 h-20 rounded-full bg-gradient-to-br from-emerald-500 to-emerald-700 flex items-center justify-center text-3xl shadow-lg shadow-emerald-500/30">
                üèóÔ∏è
              </div>
              <div class="absolute -top-1 -right-1 w-6 h-6 rounded-full bg-emerald-400 border-2 border-neutral-950 flex items-center justify-center text-xs font-bold">1</div>
            </div>
            <div>
              <div class="font-bold text-emerald-300">{{ tArray('network.sites')[0]?.name || 'Douala' }}</div>
              <div class="text-xs text-neutral-400">{{ tArray('network.sites')[0]?.status || 'Port Sec ‚Ä¢ Op√©rationnel' }}</div>
              <div class="text-xs text-neutral-500 mt-1">{{ tArray('network.sites')[0]?.capacity || '10 ha ‚Ä¢ 3.5K EVP' }}</div>
            </div>
          </div>

          <!-- Kribi -->
          <div class="text-center space-y-3">
            <div class="relative inline-block">
              <div class="w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center text-3xl shadow-lg shadow-blue-500/30">
                ‚öì
              </div>
              <div class="absolute -top-1 -right-1 w-6 h-6 rounded-full bg-yellow-400 border-2 border-neutral-950 flex items-center justify-center text-xs font-bold">2</div>
            </div>
            <div>
              <div class="font-bold text-blue-300">{{ tArray('network.sites')[1]?.name || 'Kribi' }}</div>
              <div class="text-xs text-neutral-400">{{ tArray('network.sites')[1]?.status || 'Plateforme maritime ‚Ä¢ T2 2026' }}</div>
              <div class="text-xs text-neutral-500 mt-1">{{ tArray('network.sites')[1]?.capacity || '25 ha ‚Ä¢ 45K EVP' }}</div>
            </div>
          </div>

          <!-- Ngaound√©r√© -->
          <div class="text-center space-y-3">
            <div class="relative inline-block">
              <div class="w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center text-3xl shadow-lg shadow-purple-500/30">
                üöÇ
              </div>
              <div class="absolute -top-1 -right-1 w-6 h-6 rounded-full bg-blue-400 border-2 border-neutral-950 flex items-center justify-center text-xs font-bold">3</div>
            </div>
            <div>
              <div class="font-bold text-purple-300">{{ tArray('network.sites')[2]?.name || 'Ngaound√©r√©' }}</div>
              <div class="text-xs text-neutral-400">{{ tArray('network.sites')[2]?.status || 'Hub ferroviaire ‚Ä¢ T4 2026' }}</div>
              <div class="text-xs text-neutral-500 mt-1">{{ tArray('network.sites')[2]?.capacity || '35 ha ‚Ä¢ 60K EVP' }}</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- =========================
         8. ACTUALIT√âS & AVANCEMENT
         ========================= -->
    <NewsCarousel
      data-testid="home-news"
      :title="t('news.title', 'Avanc√©es du projet')"
      :autoplay="true"
      :autoplay-delay="5000"
    />

    <!-- =========================
         10. SECTION FINALE ‚Äì Appel √† action
         ========================= -->
    <InvestorCTA
      data-testid="home-final-cta"
      :title="t('cta.title', 'Rejoignez la dynamique nationale')"
      :subtitle="t('cta.subtitle', 'Ensemble, construisons le r√©seau logistique du futur.')"
      primary-to="/projects"
      :primary-label="t('cta.primaryLabel', 'D√©couvrir nos projets')"
      secondary-to="/contact"
      :secondary-label="t('cta.secondaryLabel', 'Nous contacter')"
      variant="solid"
    />
  </main>
</template>

<script setup>
// =========================================
// Home.vue ‚Äî Structure GPM compl√®te et optimis√©e
// 10 sections : Hero, About, Vision, Projects (CTA), Expertise, Avantages, Impact & R√©seau, T√©moignages, News, CTA
// =========================================
import { computed } from 'vue'
import { useI18n } from 'vue-i18n'
// import { useScrollReveal } from '@/composables/useScrollReveal' // D√©sactiv√© temporairement

import { RouterLink } from 'vue-router'
import Breadcrumbs from '../components/Breadcrumbs.vue'
import HeroSection from '../components/HeroSection.vue'
import AboutGPM from '../components/AboutGPM.vue'
import Timeline from '../components/Timeline.vue'
import ProjectHighlights from '../components/ProjectHighlights.vue'
import KpiStrip from '../components/KpiStrip.vue'
import LogoCarousel from '../components/LogoCarousel.vue'
import NewsCarousel from '../components/NewsCarousel.vue'
import InvestorCTA from '../components/InvestorCTA.vue'

const { t, tm } = useI18n()

// Activer les animations scroll reveal - D√âSACTIV√â TEMPORAIREMENT
// useScrollReveal()

// Helper pour extraire les arrays i18n
const tArray = (path) => {
  const v = tm(path)
  return Array.isArray(v) ? v : []
}

// Expertise items (fallback si pas dans i18n)
const expertiseItems = computed(() => {
  const items = tArray('expertise.items')
  if (items.length) return items

  // Fallback
  return [
    { icon: 'üß±', title: 'Infrastructure', text: 'D√©veloppement de zones logistiques' },
    { icon: '‚öôÔ∏è', title: 'Digitalisation', text: 'Solutions tech pour la tra√ßabilit√©' },
    { icon: 'üöõ', title: 'Op√©rations', text: 'Gestion des plateformes' },
    { icon: 'üå±', title: 'Durable', text: 'Impact social positif' },
    { icon: 'ü§ù', title: 'PPP', text: 'Partenariats institutionnels' },
    { icon: 'üìä', title: 'Performance', text: 'KPIs et reporting' }
  ]
})
</script>

<style scoped>
/* Espacement entre sections */
main {
  padding-bottom: 4rem;
}

/* ===== Scroll Reveal Animations - D√âSACTIV√â TEMPORAIREMENT ===== */
/* Toutes les sections visibles par d√©faut pour √©viter la r√©gression */
/* L'animation au scroll sera r√©activ√©e apr√®s v√©rification */
</style>
