<template>
  <svg
    viewBox="-100 10 1000 750"
    preserveAspectRatio="xMidYMid slice"
    :class="[
      'w-full h-full',
      mode === 'background' ? 'map-background' : 'map-interactive'
    ]"
    xmlns="http://www.w3.org/2000/svg"
  >
    <defs>
      <!-- Pattern de fond -->
      <pattern
        v-if="mode === 'interactive'"
        id="grid-pattern"
        width="20"
        height="20"
        patternUnits="userSpaceOnUse"
      >
        <path
          d="M 20 0 L 0 0 0 20"
          fill="none"
          stroke="rgba(255,255,255,0.03)"
          stroke-width="0.5"
        />
      </pattern>

      <!-- Gradient Tchad émeraude -->
      <linearGradient id="tchadGradient" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" :style="`stop-color:${mode === 'background' ? '#10b981' : '#EAB308'};stop-opacity:${mode === 'background' ? '0.6' : '0.08'}`" />
        <stop offset="100%" :style="`stop-color:${mode === 'background' ? '#059669' : '#CA8A04'};stop-opacity:${mode === 'background' ? '0.8' : '0.08'}`" />
      </linearGradient>

      <!-- Gradient Cameroun - SAME AS TCHAD (emerald) -->
      <linearGradient id="camerounGradient" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" :style="`stop-color:${mode === 'background' ? '#10b981' : '#EAB308'};stop-opacity:${mode === 'background' ? '0.6' : '0.08'}`" />
        <stop offset="100%" :style="`stop-color:${mode === 'background' ? '#059669' : '#CA8A04'};stop-opacity:${mode === 'background' ? '0.8' : '0.08'}`" />
      </linearGradient>

      <!-- Filtre glow pour mode background -->
      <filter v-if="mode === 'background'" id="glow">
        <feGaussianBlur stdDeviation="8" result="coloredBlur"/>
        <feMerge>
          <feMergeNode in="coloredBlur"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>

      <!-- Gradient radial pour fond immersif (mode background) - centré sur Tchad-Cameroun - ANIMÉ - Taille réduite -->
      <radialGradient v-if="mode === 'background'" id="mapBackground" :cx="gradientCx + '%'" :cy="gradientCy + '%'" r="20%">
        <stop offset="0%" style="stop-color:rgba(16, 185, 129, 0.15);stop-opacity:1" />
        <stop offset="60%" style="stop-color:rgba(23, 23, 23, 0.4);stop-opacity:1" />
        <stop offset="100%" style="stop-color:rgba(10, 10, 10, 0.8);stop-opacity:1" />
      </radialGradient>
    </defs>

    <!-- Fond pour mode interactive -->
    <rect
      v-if="mode === 'interactive'"
      width="400"
      height="550"
      fill="rgba(23,23,23,0.5)"
    />
    <rect
      v-if="mode === 'interactive'"
      width="400"
      height="550"
      fill="url(#grid-pattern)"
    />

    <!-- OCÉAN ATLANTIQUE (uniquement en mode interactive) -->
    <rect
      v-if="mode === 'interactive'"
      x="0"
      y="300"
      width="20"
      height="250"
      fill="rgba(59, 130, 246, 0.08)"
      stroke="rgba(59, 130, 246, 0.2)"
      stroke-width="1"
      stroke-dasharray="2,2"
      rx="2"
    />

    <!-- Fond pour mode background - gradient radial immersif -->
    <rect
      v-if="mode === 'background'"
      width="100%"
      height="100%"
      fill="url(#mapBackground)"
    />

    <!-- ===== PAYS VOISINS (en gris, mode background uniquement) - 34 PAYS ===== -->
    <template v-if="mode === 'background'">
      <!-- S. Sudan (SSD) -->
      <path
        id="SSD"
        d="M 581.0 544.6 L 570.9 534.1 L 568.2 527.4 L 561.8 530.7 L 556.5 529.7 L 553.5 532.3 L 548.3 530.4 L 541.4 517.4 L 539.6 512.4 L 531.0 506.1 L 528.2 496.6 L 523.4 489.8 L 515.7 481.6 L 515.6 476.4 L 509.3 470.1 L 501.6 463.9 L 505.1 462.2 L 509.0 459.2 L 511.9 445.1 L 515.1 437.8 L 523.3 435.6 L 525.3 440.0 L 531.2 449.2 L 534.3 450.5 L 538.4 447.8 L 546.7 448.4 L 548.2 451.6 L 559.6 451.6 L 560.0 448.4 L 565.9 445.4 L 567.1 440.8 L 571.4 437.5 L 581.0 446.7 L 586.9 445.1 L 592.6 433.7 L 598.9 425.0 L 597.9 415.6 L 595.1 410.9 L 602.0 410.1 L 602.8 406.6 L 608.1 407.7 L 606.7 419.4 L 608.1 430.7 L 614.0 437.0 L 615.3 442.4 L 615.1 450.3 L 616.7 450.6 L 616.9 462.9 L 615.1 467.7 L 609.1 468.1 L 605.2 477.1 L 612.2 478.2 L 618.0 485.9 L 620.0 492.2 L 625.2 495.9 L 632.0 513.1 L 624.2 523.5 L 617.2 532.9 L 610.2 540.2 L 602.1 540.1 L 592.9 543.8 L 585.7 540.3 L 581.0 544.6 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Central African Rep. (CAF) -->
      <path
        id="CAF"
        d="M 541.4 517.4 L 537.6 519.0 L 530.3 518.7 L 521.7 517.0 L 517.5 518.4 L 515.8 522.2 L 512.1 522.7 L 507.5 519.3 L 494.8 527.2 L 489.6 525.6 L 488.0 526.8 L 484.6 536.4 L 476.1 533.3 L 467.7 531.7 L 460.5 525.9 L 451.1 520.6 L 444.9 525.6 L 440.5 533.7 L 439.5 544.7 L 432.1 543.8 L 424.4 541.1 L 417.6 549.5 L 411.6 564.2 L 410.4 559.6 L 409.9 552.4 L 404.6 547.3 L 400.4 539.2 L 399.4 533.5 L 394.0 525.3 L 395.0 520.6 L 393.8 513.9 L 394.7 501.7 L 397.4 498.8 L 403.2 482.8 L 412.6 481.6 L 414.7 477.6 L 416.6 477.9 L 419.5 481.4 L 433.9 475.4 L 438.7 469.2 L 444.7 463.7 L 443.6 458.2 L 446.8 456.7 L 457.8 457.7 L 468.6 450.4 L 476.8 433.2 L 482.6 426.8 L 489.9 424.1 L 491.2 430.8 L 497.8 440.7 L 497.8 447.1 L 495.9 453.7 L 496.7 458.6 L 500.6 463.2 L 509.3 470.1 L 515.6 476.4 L 515.7 481.6 L 523.4 489.8 L 528.2 496.6 L 531.0 506.1 L 539.6 512.4 L 541.4 517.4 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Nigeria (NGA) -->
      <path
        id="NGA"
        d="M 259.3 501.2 L 260.0 475.7 L 259.7 465.7 L 261.9 455.7 L 265.4 450.9 L 270.9 441.1 L 269.7 436.9 L 272.0 430.5 L 269.4 421.1 L 269.8 415.9 L 270.6 401.8 L 273.9 395.4 L 275.5 386.3 L 278.5 382.9 L 290.8 381.1 L 302.2 387.0 L 306.5 392.9 L 312.4 393.2 L 317.8 389.3 L 331.6 397.5 L 337.4 397.1 L 344.2 390.4 L 350.9 390.8 L 354.2 388.6 L 360.3 389.5 L 369.2 394.1 L 378.1 385.3 L 380.8 386.0 L 388.5 403.2 L 390.6 402.9 L 395.2 409.2 L 393.9 412.0 L 393.3 417.3 L 383.7 429.5 L 380.7 439.6 L 379.1 447.8 L 376.6 451.3 L 374.3 462.4 L 368.2 468.9 L 366.4 476.8 L 363.9 483.2 L 362.8 489.8 L 355.0 495.1 L 348.5 488.6 L 344.2 488.9 L 337.4 498.1 L 334.1 498.2 L 328.7 513.5 L 325.7 524.7 L 313.9 530.3 L 309.5 529.5 L 305.1 533.0 L 296.0 532.7 L 289.9 522.8 L 286.1 511.4 L 278.0 501.0 L 269.4 501.2 L 259.3 501.2 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Niger (NER) -->
      <path
        id="NER"
        d="M 398.3 239.0 L 401.1 263.5 L 405.4 267.7 L 405.6 272.7 L 410.3 278.1 L 407.8 284.9 L 403.4 316.9 L 402.8 337.5 L 388.3 352.4 L 383.3 373.2 L 388.1 379.0 L 388.1 389.2 L 395.4 389.5 L 394.2 397.0 L 391.0 397.9 L 390.6 402.9 L 388.5 403.2 L 380.8 386.0 L 378.1 385.3 L 369.2 394.1 L 360.3 389.5 L 354.2 388.6 L 350.9 390.8 L 344.2 390.4 L 337.4 397.1 L 331.6 397.5 L 317.8 389.3 L 312.4 393.2 L 306.5 392.9 L 302.2 387.0 L 290.8 381.1 L 278.5 382.9 L 275.5 386.3 L 273.9 395.4 L 270.6 401.8 L 269.8 415.9 L 261.1 406.8 L 257.0 406.8 L 253.2 411.5 L 253.5 400.7 L 240.3 397.1 L 239.9 389.4 L 233.5 379.1 L 232.0 371.9 L 232.9 364.3 L 240.2 363.7 L 244.4 358.0 L 260.0 356.7 L 270.2 354.2 L 271.1 344.5 L 277.4 333.9 L 277.3 297.5 L 293.5 290.5 L 326.5 259.5 L 365.7 229.4 L 383.8 236.2 L 390.2 244.9 L 398.3 239.0 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Sudan (SDN) -->
      <path
        id="SDN"
        d="M 509.3 470.1 L 500.6 463.2 L 496.7 458.6 L 495.9 453.7 L 497.8 447.1 L 497.8 440.7 L 491.2 430.8 L 489.9 424.1 L 490.0 420.2 L 485.8 415.6 L 485.7 406.4 L 483.3 400.3 L 479.3 401.2 L 480.4 395.4 L 483.4 388.9 L 482.1 382.3 L 485.9 377.5 L 483.5 373.8 L 486.5 364.0 L 491.7 352.4 L 501.6 353.5 L 501.0 290.8 L 501.1 284.2 L 514.3 284.2 L 514.3 252.6 L 560.2 252.6 L 604.6 252.6 L 649.9 252.6 L 653.6 268.1 L 651.1 271.0 L 652.7 287.2 L 656.9 306.1 L 661.3 310.0 L 667.5 315.8 L 661.8 324.8 L 653.3 327.4 L 649.7 332.3 L 648.6 342.8 L 643.7 366.0 L 644.9 372.3 L 643.1 385.8 L 638.4 401.4 L 631.5 409.2 L 626.6 421.3 L 625.5 427.7 L 620.1 432.2 L 616.7 448.7 L 616.9 462.9 L 616.7 450.6 L 615.1 450.3 L 615.3 442.4 L 614.0 437.0 L 608.1 430.7 L 606.7 419.4 L 608.1 407.7 L 602.8 406.6 L 602.0 410.1 L 595.1 410.9 L 597.9 415.6 L 598.9 425.0 L 592.6 433.7 L 586.9 445.1 L 581.0 446.7 L 571.4 437.5 L 567.1 440.8 L 565.9 445.4 L 560.0 448.4 L 559.6 451.6 L 548.2 451.6 L 546.7 448.4 L 538.4 447.8 L 534.3 450.5 L 531.2 449.2 L 525.3 440.0 L 523.3 435.6 L 515.1 437.8 L 511.9 445.1 L 509.0 459.2 L 505.1 462.2 L 501.6 463.9 L 509.3 470.1 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Libya (LBY) -->
      <path
        id="LBY"
        d="M 514.3 252.6 L 514.3 284.2 L 501.1 284.2 L 501.0 290.8 L 455.4 260.6 L 409.8 230.4 L 398.3 239.0 L 390.2 244.9 L 383.8 236.2 L 365.7 229.4 L 360.7 219.5 L 351.7 212.2 L 346.3 215.1 L 342.3 206.3 L 341.8 199.5 L 335.1 188.0 L 339.6 181.4 L 338.6 171.5 L 340.1 162.8 L 339.2 155.6 L 341.3 142.7 L 340.6 135.4 L 336.9 121.5 L 342.5 117.8 L 343.5 111.1 L 342.3 104.6 L 350.1 98.5 L 353.7 93.4 L 359.2 88.9 L 359.9 76.8 L 373.3 82.2 L 378.1 80.9 L 387.6 83.5 L 402.8 90.6 L 408.2 104.6 L 418.4 107.6 L 434.5 114.3 L 446.7 122.1 L 452.3 118.0 L 457.8 110.8 L 455.1 98.7 L 458.7 91.0 L 466.9 83.6 L 474.8 81.4 L 490.2 84.7 L 494.1 91.7 L 498.4 91.8 L 502.0 94.5 L 513.4 96.3 L 516.2 101.5 L 512.0 109.1 L 513.8 115.9 L 510.9 125.6 L 514.3 138.3 L 514.3 194.5 L 514.3 252.6 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Egypt (EGY) -->
      <path
        id="EGY"
        d="M 649.9 252.6 L 604.6 252.6 L 560.2 252.6 L 514.3 252.6 L 514.3 194.5 L 514.3 138.3 L 510.9 125.6 L 513.8 115.9 L 512.0 109.1 L 516.2 101.5 L 531.4 101.3 L 542.4 105.5 L 553.7 110.1 L 559.0 112.6 L 567.8 107.6 L 572.5 103.1 L 582.6 101.7 L 590.7 103.7 L 593.8 111.6 L 596.5 106.4 L 605.6 110.1 L 614.6 111.0 L 620.2 107.1 L 620.2 107.1 L 626.6 130.1 L 627.7 134.2 L 624.5 140.5 L 622.0 152.5 L 618.9 160.7 L 616.2 163.4 L 612.4 158.3 L 607.3 151.3 L 599.1 128.7 L 597.9 130.1 L 602.7 146.8 L 609.7 162.6 L 618.3 187.2 L 622.6 195.8 L 626.2 204.7 L 636.5 222.2 L 634.2 225.0 L 634.6 235.2 L 647.9 249.4 L 649.9 252.6 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Congo (COG) -->
      <path
        id="COG"
        d="M 439.5 544.7 L 438.8 554.2 L 435.4 562.6 L 433.1 572.5 L 431.7 586.5 L 432.3 595.4 L 430.4 600.9 L 430.2 606.7 L 428.8 611.7 L 421.3 619.4 L 416.1 627.5 L 411.1 642.8 L 411.5 655.8 L 408.6 660.9 L 402.0 668.6 L 395.2 678.5 L 391.0 675.7 L 390.2 671.2 L 384.0 671.1 L 380.1 677.1 L 377.1 675.5 L 372.8 670.1 L 369.4 672.7 L 364.7 679.5 L 355.4 662.8 L 364.1 654.1 L 359.7 643.7 L 363.7 639.7 L 371.4 637.8 L 372.3 630.8 L 378.4 638.3 L 388.5 639.0 L 392.0 631.6 L 393.4 621.1 L 392.2 608.7 L 386.8 599.4 L 391.7 581.1 L 388.9 578.0 L 380.4 579.2 L 377.2 571.1 L 378.0 564.2 L 392.4 564.8 L 401.7 569.0 L 410.8 572.7 L 411.6 564.2 L 417.6 549.5 L 424.4 541.1 L 432.1 543.8 L 439.5 544.7 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Gabon (GAB) -->
      <path
        id="GAB"
        d="M 357.4 564.3 L 362.9 563.3 L 369.8 565.4 L 376.6 563.3 L 378.0 564.2 L 377.2 571.1 L 380.4 579.2 L 388.9 578.0 L 391.7 581.1 L 386.8 599.4 L 392.2 608.7 L 393.4 621.1 L 392.0 631.6 L 388.5 639.0 L 378.4 638.3 L 372.3 630.8 L 371.4 637.8 L 363.7 639.7 L 359.7 643.7 L 364.1 654.1 L 355.4 662.8 L 343.6 646.9 L 336.1 633.9 L 329.1 617.5 L 329.5 612.3 L 332.0 607.3 L 334.8 595.8 L 337.1 584.1 L 340.9 583.1 L 357.5 583.3 L 357.4 564.3 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Eq. Guinea (GNQ) -->
      <path
        id="GNQ"
        d="M 338.8 563.9 L 357.4 564.3 L 357.5 583.3 L 340.9 583.1 L 337.1 584.1 L 334.9 581.7 L 338.8 563.9 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Dem. Rep. Congo (COD) -->
      <path
        id="COD"
        d="M 563.9 671.1 L 565.9 685.6 L 564.8 693.8 L 567.1 702.9 L 573.7 711.8 L 579.9 731.7 L 579.9 731.7 L 575.4 730.1 L 560.0 732.7 L 557.0 734.6 L 553.7 744.7 L 556.3 751.7 L 554.2 770.4 L 552.8 786.2 L 555.9 789.0 L 563.9 795.2 L 567.0 792.3 L 568.0 809.3 L 559.2 809.2 L 554.6 800.5 L 550.3 793.8 L 541.6 791.6 L 539.0 783.3 L 532.0 788.3 L 522.9 786.1 L 519.1 778.9 L 511.8 777.5 L 506.5 777.8 L 505.8 772.9 L 501.9 772.5 L 496.6 771.6 L 489.6 774.0 L 484.6 773.6 L 481.8 775.0 L 482.4 756.2 L 478.6 750.4 L 477.7 740.7 L 479.4 731.1 L 477.1 725.1 L 476.9 715.1 L 463.0 715.3 L 464.0 709.6 L 458.2 709.6 L 457.6 712.4 L 450.5 713.0 L 447.6 722.2 L 445.9 726.1 L 439.6 723.9 L 435.8 726.1 L 428.3 727.4 L 423.9 719.1 L 421.3 714.0 L 418.0 704.6 L 415.2 692.8 L 381.4 692.6 L 377.4 694.5 L 374.1 694.2 L 369.4 696.3 L 367.8 691.4 L 370.7 689.8 L 371.1 682.9 L 372.9 678.8 L 377.1 675.5 L 380.1 677.1 L 384.0 671.1 L 390.2 671.2 L 391.0 675.7 L 395.2 678.5 L 402.0 668.6 L 408.6 660.9 L 411.5 655.8 L 411.1 642.8 L 416.1 627.5 L 421.3 619.4 L 428.8 611.7 L 430.2 606.7 L 430.4 600.9 L 432.3 595.4 L 431.7 586.5 L 433.1 572.5 L 435.4 562.6 L 438.8 554.2 L 439.5 544.7 L 440.5 533.7 L 444.9 525.6 L 451.1 520.6 L 460.5 525.9 L 467.7 531.7 L 476.1 533.3 L 484.6 536.4 L 488.0 526.8 L 489.6 525.6 L 494.8 527.2 L 507.5 519.3 L 512.1 522.7 L 515.8 522.2 L 517.5 518.4 L 521.7 517.0 L 530.3 518.7 L 537.6 519.0 L 541.4 517.4 L 548.3 530.4 L 553.5 532.3 L 556.5 529.7 L 561.8 530.7 L 568.2 527.4 L 570.9 534.1 L 581.0 544.6 L 581.0 544.6 L 580.3 563.1 L 584.8 565.2 L 581.2 570.8 L 576.8 575.0 L 572.4 583.2 L 570.0 590.6 L 569.4 603.2 L 566.7 609.3 L 566.6 621.2 L 563.3 625.6 L 562.9 635.0 L 561.3 636.2 L 560.3 644.8 L 563.2 652.0 L 563.9 671.1 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Ethiopia (ETH) -->
      <path
        id="ETH"
        d="M 774.7 473.6 L 742.4 521.0 L 727.6 521.7 L 717.4 532.9 L 710.0 533.1 L 706.9 538.1 L 699.1 538.1 L 694.5 532.8 L 684.1 539.4 L 680.7 546.0 L 673.1 544.7 L 670.5 542.9 L 667.9 543.3 L 664.2 543.2 L 649.8 529.8 L 641.8 529.8 L 637.9 524.6 L 637.9 515.7 L 632.0 513.1 L 625.2 495.9 L 620.0 492.2 L 618.0 485.9 L 612.2 478.2 L 605.2 477.1 L 609.1 468.1 L 615.1 467.7 L 616.9 462.9 L 616.7 448.7 L 620.1 432.2 L 625.5 427.7 L 626.6 421.3 L 631.5 409.2 L 638.4 401.4 L 643.1 385.8 L 644.9 372.3 L 658.2 375.6 L 661.8 363.8 L 668.7 371.0 L 675.4 367.3 L 678.2 370.6 L 686.0 370.7 L 696.0 377.1 L 698.9 382.5 L 704.0 387.6 L 708.7 396.9 L 712.6 402.0 L 708.6 408.9 L 704.7 416.3 L 705.6 420.7 L 705.8 425.5 L 712.2 425.8 L 714.9 424.7 L 717.4 427.5 L 715.0 433.1 L 719.2 441.8 L 723.4 449.4 L 727.8 455.0 L 765.1 473.7 L 774.7 473.6 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Eritrea (ERI) -->
      <path
        id="ERI"
        d="M 644.9 372.3 L 643.7 366.0 L 648.6 342.8 L 649.7 332.3 L 653.3 327.4 L 661.8 324.8 L 667.5 315.8 L 674.2 334.1 L 677.3 348.6 L 683.6 356.3 L 699.2 371.2 L 705.5 380.2 L 711.7 389.3 L 715.3 394.7 L 720.9 399.5 L 717.5 403.3 L 712.6 402.0 L 708.7 396.9 L 704.0 387.6 L 698.9 382.5 L 696.0 377.1 L 686.0 370.7 L 678.2 370.6 L 675.4 367.3 L 668.7 371.0 L 661.8 363.8 L 658.2 375.6 L 644.9 372.3 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Uganda (UGA) -->
      <path
        id="UGA"
        d="M 616.0 615.0 L 592.8 616.2 L 580.2 616.0 L 576.2 617.9 L 569.4 622.8 L 566.6 621.2 L 566.7 609.3 L 569.4 603.2 L 570.0 590.6 L 572.4 583.2 L 576.8 575.0 L 581.2 570.8 L 584.8 565.2 L 580.3 563.1 L 581.0 544.6 L 581.0 544.6 L 585.7 540.3 L 592.9 543.8 L 602.1 540.1 L 610.2 540.2 L 617.2 532.9 L 622.6 543.9 L 624.0 551.8 L 629.0 569.9 L 624.8 581.4 L 619.2 591.9 L 615.9 598.3 L 616.0 615.0 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Algeria (DZA) -->
      <path
        id="DZA"
        d="M 129.3 167.4 L 129.5 164.4 L 129.5 163.3 L 129.4 144.6 L 147.9 133.0 L 159.3 130.6 L 168.7 126.3 L 173.0 118.4 L 186.4 112.2 L 186.9 100.5 L 193.5 99.1 L 198.7 93.2 L 213.6 90.6 L 215.7 84.4 L 212.7 81.1 L 208.8 64.4 L 208.1 54.8 L 203.8 44.7 L 214.8 36.1 L 227.1 33.3 L 234.3 26.8 L 245.3 22.0 L 264.7 19.2 L 283.6 17.9 L 289.4 20.3 L 300.1 14.0 L 312.3 13.9 L 317.0 17.6 L 324.8 16.6 L 322.5 24.7 L 324.3 39.8 L 321.6 52.8 L 314.6 61.6 L 315.6 73.5 L 324.9 82.9 L 325.0 86.7 L 332.1 93.1 L 336.9 121.5 L 340.6 135.4 L 341.3 142.7 L 339.2 155.6 L 340.1 162.8 L 338.6 171.5 L 339.6 181.4 L 335.1 188.0 L 341.8 199.5 L 342.3 206.3 L 346.3 215.1 L 351.7 212.2 L 360.7 219.5 L 365.7 229.4 L 326.5 259.5 L 293.5 290.5 L 277.3 297.5 L 264.7 299.1 L 264.5 289.0 L 259.2 286.5 L 252.1 282.0 L 249.4 274.6 L 210.9 240.1 L 172.3 205.7 L 129.3 167.4 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Tunisia (TUN) -->
      <path
        id="TUN"
        d="M 336.9 121.5 L 332.1 93.1 L 325.0 86.7 L 324.9 82.9 L 315.6 73.5 L 314.6 61.6 L 321.6 52.8 L 324.3 39.8 L 322.5 24.7 L 324.8 16.6 L 337.3 10.3 L 345.3 12.2 L 344.9 20.1 L 354.6 14.3 L 355.4 17.4 L 349.7 25.1 L 349.6 32.4 L 353.6 36.3 L 352.1 50.0 L 344.6 57.9 L 346.7 66.5 L 352.6 66.8 L 355.5 74.3 L 359.9 76.8 L 359.2 88.9 L 353.7 93.4 L 350.1 98.5 L 342.3 104.6 L 343.5 111.1 L 342.5 117.8 L 336.9 121.5 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Burkina Faso (BFA) -->
      <path
        id="BFA"
        d="M 166.8 436.3 L 166.1 427.1 L 169.2 420.4 L 168.9 415.0 L 178.0 402.0 L 179.7 391.1 L 182.8 387.3 L 188.3 389.4 L 193.1 386.2 L 194.7 382.1 L 203.5 375.1 L 205.7 370.1 L 216.4 363.6 L 222.7 361.3 L 225.5 364.4 L 232.9 364.3 L 232.0 371.9 L 233.5 379.1 L 239.9 389.4 L 240.3 397.1 L 253.5 400.7 L 253.2 411.5 L 250.7 416.2 L 245.1 417.7 L 242.8 424.6 L 238.9 426.4 L 228.8 426.0 L 223.6 424.8 L 219.9 427.3 L 214.8 426.2 L 195.0 426.9 L 194.7 435.9 L 196.3 447.8 L 188.4 443.7 L 183.1 444.3 L 179.1 448.2 L 173.9 444.9 L 171.9 439.7 L 166.8 436.3 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Ghana (GHA) -->
      <path
        id="GHA"
        d="M 228.8 426.0 L 228.0 430.9 L 232.8 439.1 L 232.8 450.6 L 233.8 463.0 L 236.7 468.8 L 234.2 483.0 L 235.1 490.8 L 238.1 500.8 L 240.7 506.4 L 222.8 515.6 L 216.4 521.0 L 206.1 525.6 L 195.9 521.1 L 196.4 514.9 L 191.5 501.3 L 194.5 483.5 L 199.3 470.2 L 196.3 447.8 L 194.7 435.9 L 195.0 426.9 L 214.8 426.2 L 219.9 427.3 L 223.6 424.8 L 228.8 426.0 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Benin (BEN) -->
      <path
        id="BEN"
        d="M 259.3 501.2 L 249.9 503.0 L 247.1 492.1 L 247.6 455.9 L 245.3 452.6 L 244.9 444.9 L 240.9 439.3 L 237.4 434.7 L 238.9 426.4 L 242.8 424.6 L 245.1 417.7 L 250.7 416.2 L 253.2 411.5 L 257.0 406.8 L 261.1 406.8 L 269.8 415.9 L 269.4 421.1 L 272.0 430.5 L 269.7 436.9 L 270.9 441.1 L 265.4 450.9 L 261.9 455.7 L 259.7 465.7 L 260.0 475.7 L 259.3 501.2 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Togo (TGO) -->
      <path
        id="TGO"
        d="M 238.9 426.4 L 237.4 434.7 L 240.9 439.3 L 244.9 444.9 L 245.3 452.6 L 247.6 455.9 L 247.1 492.1 L 249.9 503.0 L 240.7 506.4 L 238.1 500.8 L 235.1 490.8 L 234.2 483.0 L 236.7 468.8 L 233.8 463.0 L 232.8 450.6 L 232.8 439.1 L 228.0 430.9 L 228.8 426.0 L 238.9 426.4 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Mali (MLI) -->
      <path
        id="MLI"
        d="M 97.0 403.5 L 97.5 398.6 L 96.5 392.5 L 92.3 388.1 L 90.0 379.0 L 89.5 369.2 L 93.3 366.3 L 95.2 357.0 L 98.9 356.7 L 106.8 361.1 L 113.3 357.9 L 117.7 359.0 L 119.4 355.5 L 165.3 355.2 L 167.8 344.2 L 165.8 342.2 L 160.3 274.1 L 154.8 205.9 L 172.3 205.7 L 210.9 240.1 L 249.4 274.6 L 252.1 282.0 L 259.2 286.5 L 264.5 289.0 L 264.7 299.1 L 277.3 297.5 L 277.4 333.9 L 271.1 344.5 L 270.2 354.2 L 260.0 356.7 L 244.4 358.0 L 240.2 363.7 L 232.9 364.3 L 225.5 364.4 L 222.7 361.3 L 216.4 363.6 L 205.7 370.1 L 203.5 375.1 L 194.7 382.1 L 193.1 386.2 L 188.3 389.4 L 182.8 387.3 L 179.7 391.1 L 178.0 402.0 L 168.9 415.0 L 169.2 420.4 L 166.1 427.1 L 166.8 436.3 L 162.1 438.6 L 159.4 440.6 L 157.7 433.8 L 154.4 435.6 L 152.4 435.3 L 150.3 439.9 L 141.5 439.8 L 138.3 437.4 L 136.8 438.8 L 133.3 434.3 L 133.9 429.6 L 132.5 427.7 L 130.1 429.3 L 130.5 424.2 L 132.8 420.1 L 128.2 413.5 L 126.8 409.1 L 124.3 405.7 L 122.0 405.2 L 119.2 407.5 L 115.5 409.6 L 112.4 413.0 L 107.5 411.7 L 104.3 407.7 L 102.4 407.2 L 99.5 409.3 L 97.6 409.3 L 97.0 403.5 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Côte d'Ivoire (CIV) -->
      <path
        id="CIV"
        d="M 136.8 438.8 L 138.3 437.4 L 141.5 439.8 L 150.3 439.9 L 152.4 435.3 L 154.4 435.6 L 157.7 433.8 L 159.4 440.6 L 162.1 438.6 L 166.8 436.3 L 171.9 439.7 L 173.9 444.9 L 179.1 448.2 L 183.1 444.3 L 188.4 443.7 L 196.3 447.8 L 199.3 470.2 L 194.5 483.5 L 191.5 501.3 L 196.4 514.9 L 195.9 521.1 L 190.7 521.3 L 182.8 518.2 L 175.4 518.4 L 161.9 521.2 L 154.0 525.7 L 142.6 531.5 L 140.4 531.1 L 141.3 518.1 L 142.4 516.1 L 142.1 509.9 L 137.2 503.3 L 133.6 502.2 L 130.3 497.9 L 132.7 490.9 L 131.6 483.2 L 132.1 478.6 L 133.9 478.6 L 134.6 471.7 L 133.7 468.7 L 134.8 466.5 L 139.1 464.6 L 136.2 452.0 L 133.6 445.4 L 134.5 440.1 L 136.8 438.8 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Djibouti (DJI) -->
      <path
        id="DJI"
        d="M 712.6 402.0 L 717.5 403.3 L 720.9 399.5 L 723.6 404.4 L 723.3 410.9 L 716.8 414.7 L 721.7 419.0 L 717.4 427.5 L 714.9 424.7 L 712.2 425.8 L 705.8 425.5 L 705.6 420.7 L 704.7 416.3 L 708.6 408.9 L 712.6 402.0 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Kenya (KEN) -->
      <path
        id="KEN"
        d="M 676.6 673.8 L 660.2 658.1 L 659.4 648.9 L 618.0 616.7 L 616.0 615.0 L 615.9 598.3 L 619.2 591.9 L 624.8 581.4 L 629.0 569.9 L 624.0 551.8 L 622.6 543.9 L 617.2 532.9 L 624.2 523.5 L 632.0 513.1 L 637.9 515.7 L 637.9 524.6 L 641.8 529.8 L 649.8 529.8 L 664.2 543.2 L 667.9 543.3 L 670.5 542.9 L 673.1 544.7 L 680.7 546.0 L 684.1 539.4 L 694.5 532.8 L 699.1 538.1 L 706.9 538.1 L 696.9 556.0 L 697.1 613.6 L 703.8 626.6 L 695.8 632.9 L 693.0 639.5 L 688.7 640.6 L 687.1 651.8 L 683.4 658.1 L 681.2 668.6 L 676.6 673.8 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Liberia (LBR) -->
      <path
        id="LBR"
        d="M 132.1 478.6 L 131.6 483.2 L 132.7 490.9 L 130.3 497.9 L 133.6 502.2 L 137.2 503.3 L 142.1 509.9 L 142.4 516.1 L 141.3 518.1 L 140.4 531.1 L 137.4 531.2 L 125.7 523.7 L 115.3 511.7 L 105.5 503.0 L 97.8 492.9 L 100.6 487.8 L 101.2 483.2 L 106.3 474.6 L 111.7 467.3 L 114.1 466.9 L 117.1 465.1 L 121.9 474.8 L 121.1 481.2 L 123.3 484.5 L 126.6 484.6 L 128.9 478.2 L 132.1 478.6 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Guinea (GIN) -->
      <path
        id="GIN"
        d="M 72.0 401.3 L 77.5 401.4 L 85.7 405.3 L 88.2 404.9 L 89.1 403.2 L 95.3 404.4 L 97.0 403.5 L 97.6 409.3 L 99.5 409.3 L 102.4 407.2 L 104.3 407.7 L 107.5 411.7 L 112.4 413.0 L 115.5 409.6 L 119.2 407.5 L 122.0 405.2 L 124.3 405.7 L 126.8 409.1 L 128.2 413.5 L 132.8 420.1 L 130.5 424.2 L 130.1 429.3 L 132.5 427.7 L 133.9 429.6 L 133.3 434.3 L 136.8 438.8 L 134.5 440.1 L 133.6 445.4 L 136.2 452.0 L 139.1 464.6 L 134.8 466.5 L 133.7 468.7 L 134.6 471.7 L 133.9 478.6 L 132.1 478.6 L 128.9 478.2 L 126.6 484.6 L 123.3 484.5 L 121.1 481.2 L 121.9 474.8 L 117.1 465.1 L 114.1 466.9 L 111.7 467.3 L 108.5 468.2 L 108.6 462.4 L 106.8 458.3 L 107.2 453.7 L 104.7 447.0 L 101.5 441.4 L 92.4 441.4 L 89.7 444.3 L 86.6 444.7 L 84.6 448.1 L 83.3 452.5 L 77.2 459.4 L 72.2 450.1 L 67.7 443.9 L 64.8 441.9 L 61.9 438.7 L 60.6 431.7 L 59.0 428.3 L 55.7 425.7 L 60.7 418.0 L 64.2 418.3 L 67.2 415.6 L 69.7 415.6 L 71.5 413.5 L 70.5 408.3 L 71.8 406.6 L 72.0 401.3 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Sierra Leone (SLE) -->
      <path
        id="SLE"
        d="M 77.2 459.4 L 83.3 452.5 L 84.6 448.1 L 86.6 444.7 L 89.7 444.3 L 92.4 441.4 L 101.5 441.4 L 104.7 447.0 L 107.2 453.7 L 106.8 458.3 L 108.6 462.4 L 108.5 468.2 L 111.7 467.3 L 106.3 474.6 L 101.2 483.2 L 100.6 487.8 L 97.8 492.9 L 94.8 491.7 L 86.5 485.3 L 80.6 476.9 L 78.6 471.1 L 77.2 459.4 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Guinea-Bissau (GNB) -->
      <path
        id="GNB"
        d="M 38.0 404.4 L 44.0 401.9 L 47.8 402.4 L 50.9 400.6 L 72.0 401.3 L 71.8 406.6 L 70.5 408.3 L 71.5 413.5 L 69.7 415.6 L 67.2 415.6 L 64.2 418.3 L 60.7 418.0 L 55.7 425.7 L 49.6 419.1 L 44.7 418.0 L 42.1 413.6 L 42.2 411.2 L 38.7 407.8 L 38.0 404.4 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Senegal (SEN) -->
      <path
        id="SEN"
        d="M 37.6 385.3 L 32.8 373.0 L 27.1 367.4 L 32.2 364.4 L 37.7 353.3 L 40.4 345.2 L 44.3 340.2 L 50.0 341.5 L 55.6 338.1 L 62.0 337.9 L 67.4 342.6 L 75.0 346.7 L 81.9 358.4 L 89.5 369.2 L 90.0 379.0 L 92.3 388.1 L 96.5 392.5 L 97.5 398.6 L 97.0 403.5 L 95.3 404.4 L 89.1 403.2 L 88.2 404.9 L 85.7 405.3 L 77.5 401.4 L 72.0 401.3 L 50.9 400.6 L 47.8 402.4 L 44.0 401.9 L 38.0 404.4 L 36.1 392.3 L 46.5 392.7 L 49.2 390.5 L 51.3 390.3 L 55.5 386.7 L 60.4 390.0 L 65.4 390.3 L 70.3 386.8 L 68.0 382.2 L 64.3 384.9 L 60.7 384.8 L 56.2 380.9 L 52.6 381.2 L 50.0 384.9 L 37.6 385.3 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Mauritania (MRT) -->
      <path
        id="MRT"
        d="M 33.6 268.4 L 36.1 263.2 L 80.8 263.3 L 78.6 240.5 L 81.4 232.3 L 92.1 230.9 L 91.8 190.5 L 129.3 191.4 L 129.3 167.4 L 172.3 205.7 L 154.8 205.9 L 160.3 274.1 L 165.8 342.2 L 167.8 344.2 L 165.3 355.2 L 119.4 355.5 L 117.7 359.0 L 113.3 357.9 L 106.8 361.1 L 98.9 356.7 L 95.2 357.0 L 93.3 366.3 L 89.5 369.2 L 81.9 358.4 L 75.0 346.7 L 67.4 342.6 L 62.0 337.9 L 55.6 338.1 L 50.0 341.5 L 44.3 340.2 L 40.4 345.2 L 39.4 336.7 L 42.6 328.9 L 44.0 314.1 L 42.8 298.5 L 41.4 290.6 L 42.5 282.7 L 39.6 275.2 L 33.6 268.4 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- W. Sahara (ESH) -->
      <path
        id="ESH"
        d="M 129.5 163.3 L 129.5 164.4 L 129.3 167.4 L 129.3 191.4 L 91.8 190.5 L 92.1 230.9 L 81.4 232.3 L 78.6 240.5 L 80.8 263.3 L 36.1 263.2 L 33.6 268.4 L 34.1 261.8 L 34.3 261.8 L 60.0 260.5 L 61.4 254.8 L 66.0 247.7 L 69.8 225.9 L 85.7 208.9 L 91.1 189.0 L 94.6 187.8 L 98.4 175.5 L 108.0 173.8 L 112.1 175.9 L 117.3 175.9 L 121.0 172.3 L 128.1 171.8 L 127.8 163.3 L 129.5 163.3 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Morocco (MAR) -->
      <path
        id="MAR"
        d="M 203.8 44.7 L 208.1 54.8 L 208.8 64.4 L 212.7 81.1 L 215.7 84.4 L 213.6 90.6 L 198.7 93.2 L 193.5 99.1 L 186.9 100.5 L 186.4 112.2 L 173.0 118.4 L 168.7 126.3 L 159.3 130.6 L 147.9 133.0 L 129.4 144.6 L 129.5 163.3 L 127.8 163.3 L 128.1 171.8 L 121.0 172.3 L 117.3 175.9 L 112.1 175.9 L 108.0 173.8 L 98.4 175.5 L 94.6 187.8 L 91.1 189.0 L 85.7 208.9 L 69.8 225.9 L 66.0 247.7 L 61.4 254.8 L 60.0 260.5 L 34.3 261.8 L 34.1 261.8 L 34.6 254.4 L 39.0 250.1 L 42.7 241.9 L 42.0 236.6 L 45.9 225.4 L 52.3 215.4 L 56.1 212.8 L 59.1 203.6 L 59.4 195.2 L 63.5 185.5 L 71.2 179.7 L 78.4 163.6 L 78.6 163.4 L 84.4 157.3 L 95.0 155.5 L 104.0 144.8 L 109.7 140.5 L 119.3 127.4 L 116.4 107.7 L 120.7 94.1 L 122.3 85.8 L 129.6 75.2 L 141.1 67.9 L 149.6 61.4 L 157.2 45.1 L 160.8 35.4 L 169.2 35.4 L 176.1 42.1 L 187.0 41.1 L 198.8 44.5 L 203.8 44.7 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Somaliland (-99) -->
      <path
        id="-99"
        d="M 788.0 419.8 L 788.0 419.8 L 787.9 420.1 L 787.9 426.6 L 787.9 442.5 L 787.9 450.8 L 782.7 460.5 L 774.7 473.6 L 765.1 473.7 L 727.8 455.0 L 723.4 449.4 L 719.2 441.8 L 715.0 433.1 L 717.4 427.5 L 721.7 419.0 L 725.4 421.9 L 727.6 428.5 L 732.8 435.1 L 738.4 435.1 L 749.2 431.1 L 761.7 429.2 L 771.7 424.3 L 777.4 423.3 L 781.5 420.4 L 788.0 419.8 L 788.0 419.8 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

      <!-- Somalia (SOM) -->
      <path
        id="SOM"
        d="M 703.8 626.6 L 697.1 613.6 L 696.9 556.0 L 706.9 538.1 L 710.0 533.1 L 717.4 532.9 L 727.6 521.7 L 742.4 521.0 L 774.7 473.6 L 782.7 460.5 L 787.9 450.8 L 787.9 442.5 L 787.9 426.6 L 787.9 420.1 L 788.0 419.8 L 788.0 419.8 L 791.6 419.5 L 796.9 417.2 L 803.0 415.6 L 808.4 410.2 L 812.7 410.1 L 813.0 414.5 L 811.9 423.7 L 811.9 432.0 L 809.5 437.7 L 806.3 454.8 L 800.8 472.4 L 793.7 492.6 L 783.9 515.7 L 774.2 533.4 L 760.7 554.9 L 749.3 567.7 L 732.2 583.4 L 721.6 595.4 L 709.0 614.5 L 706.4 622.8 L 703.8 626.6 Z"
        fill="rgba(115, 115, 115, 0.3)"
        stroke="rgba(82, 82, 82, 0.5)"
        stroke-width="1.5"
      />

    </template>

    <!-- FRONTIÈRE CAMEROUN (emerald - same as Tchad) - NEW VIEWBOX 800x600 -->
    <path
      d="M 394.2 397.0 L 398.8 407.1 L 399.5 417.5 L 399.1 428.0 L 405.3 442.4 L 399.0 442.2 L 395.7 443.4 L 390.5 441.8 L 388.0 449.2 L 394.8 458.4 L 399.8 461.1 L 401.4 467.7 L 405.0 478.5 L 403.2 482.8 L 397.4 498.8 L 394.7 501.7 L 393.8 513.9 L 395.0 520.6 L 394.0 525.3 L 399.4 533.5 L 400.4 539.2 L 404.6 547.3 L 409.9 552.4 L 410.4 559.6 L 411.6 564.2 L 410.8 572.7 L 401.7 569.0 L 392.4 564.8 L 378.0 564.2 L 376.6 563.3 L 369.8 565.4 L 362.9 563.3 L 357.4 564.3 L 338.8 563.9 L 340.5 551.5 L 336.0 541.0 L 330.8 538.4 L 328.5 531.3 L 325.6 529.0 L 325.7 524.7 L 328.7 513.5 L 334.1 498.2 L 337.4 498.1 L 344.2 488.9 L 348.5 488.6 L 355.0 495.1 L 362.8 489.8 L 363.9 483.2 L 366.4 476.8 L 368.2 468.9 L 374.3 462.4 L 376.6 451.3 L 379.1 447.8 L 380.7 439.6 L 383.7 429.5 L 393.3 417.3 L 393.9 412.0 L 395.2 409.2 L 390.6 402.9 L 391.0 397.9 L 394.2 397.0 Z"
      fill="url(#camerounGradient)"
      :stroke="mode === 'background' ? '#10b981' : 'rgba(234, 179, 8, 0.3)'"
      :stroke-width="mode === 'background' ? '3' : '1.5'"
      :stroke-opacity="mode === 'background' ? '0.8' : '1'"
      :stroke-dasharray="mode === 'interactive' ? '4,4' : 'none'"
      :filter="mode === 'background' ? 'url(#glow)' : 'none'"
    />

    <!-- FRONTIÈRE TCHAD - NEW VIEWBOX 800x600 -->
    <path
      d="M 501.0 290.8 L 501.6 353.5 L 491.7 352.4 L 486.5 364.0 L 483.5 373.8 L 485.9 377.5 L 482.1 382.3 L 483.4 388.9 L 480.4 395.4 L 479.3 401.2 L 483.3 400.3 L 485.7 406.4 L 485.8 415.6 L 490.0 420.2 L 489.9 424.1 L 482.6 426.8 L 476.8 433.2 L 468.6 450.4 L 457.8 457.7 L 446.8 456.7 L 443.6 458.2 L 444.7 463.7 L 438.7 469.2 L 433.9 475.4 L 419.5 481.4 L 416.6 477.9 L 414.7 477.6 L 412.6 481.6 L 403.2 482.8 L 405.0 478.5 L 401.4 467.7 L 399.8 461.1 L 394.8 458.4 L 388.0 449.2 L 390.5 441.8 L 395.7 443.4 L 399.0 442.2 L 405.3 442.4 L 399.1 428.0 L 399.5 417.5 L 398.8 407.1 L 394.2 397.0 L 395.4 389.5 L 388.1 389.2 L 388.1 379.0 L 383.3 373.2 L 388.3 352.4 L 402.8 337.5 L 403.4 316.9 L 407.8 284.9 L 410.3 278.1 L 405.6 272.7 L 405.4 267.7 L 401.1 263.5 L 398.3 239.0 L 409.8 230.4 L 455.4 260.6 L 501.0 290.8 Z"
      fill="url(#tchadGradient)"
      :stroke="mode === 'background' ? '#10b981' : 'rgba(234, 179, 8, 0.3)'"
      :stroke-width="mode === 'background' ? '3' : '1.5'"
      :stroke-opacity="mode === 'background' ? '0.8' : '1'"
      :stroke-dasharray="mode === 'interactive' ? '4,4' : 'none'"
      :filter="mode === 'background' ? 'url(#glow)' : 'none'"
    />

    <!-- Labels pays -->
    <template v-if="mode === 'interactive'">
      <text
        x="200"
        y="340"
        fill="rgba(255,255,255,0.18)"
        font-size="16"
        font-weight="600"
        text-anchor="middle"
        letter-spacing="2"
      >
        CAMEROUN
      </text>
      <text
        x="270"
        y="180"
        fill="rgba(255,255,255,0.18)"
        font-size="16"
        font-weight="600"
        text-anchor="middle"
        letter-spacing="2"
      >
        TCHAD
      </text>
    </template>

    <!-- Labels pays pour mode background - MASQUÉS pour effet plus épuré -->
    <!--
    <template v-if="mode === 'background'">
      <text x="100" y="420" fill="rgba(16, 185, 129, 0.5)" font-size="32" font-weight="700" text-anchor="middle" letter-spacing="4" style="text-transform: uppercase;">
        CAMEROUN
      </text>
      <text x="280" y="200" fill="rgba(16, 185, 129, 0.5)" font-size="42" font-weight="800" text-anchor="middle" letter-spacing="6" style="text-transform: uppercase;">
        TCHAD
      </text>
    </template>
    -->

    <!-- Corridors et villes (uniquement en mode interactive) -->
    <template v-if="mode === 'interactive'">
      <!-- Corridor Douala-N'Djamena -->
      <line
        :x1="cities.douala.x"
        :y1="cities.douala.y"
        :x2="cities.ngaoundere.x"
        :y2="cities.ngaoundere.y"
        stroke="rgba(52, 211, 153, 0.4)"
        stroke-width="2"
        stroke-dasharray="6,4"
      />
      <line
        :x1="cities.ngaoundere.x"
        :y1="cities.ngaoundere.y"
        :x2="cities.ndjamena.x"
        :y2="cities.ndjamena.y"
        stroke="rgba(234, 179, 8, 0.3)"
        stroke-width="2"
        stroke-dasharray="6,4"
      />

      <!-- Ligne Douala-Kribi -->
      <line
        :x1="cities.douala.x"
        :y1="cities.douala.y"
        :x2="cities.kribi.x"
        :y2="cities.kribi.y"
        stroke="rgba(234, 179, 8, 0.3)"
        stroke-width="2"
        stroke-dasharray="6,4"
      />

      <!-- Points des villes -->
      <!-- Douala (actif - vert avec animation) -->
      <g :transform="`translate(${cities.douala.x}, ${cities.douala.y})`">
        <circle r="12" fill="rgba(52, 211, 153, 0.2)" class="animate-ping-slow" />
        <circle r="6" fill="#34D399" stroke="#10B981" stroke-width="2" />
      </g>

      <!-- Kribi (prévu - jaune) -->
      <g :transform="`translate(${cities.kribi.x}, ${cities.kribi.y})`">
        <circle r="5" fill="#EAB308" fill-opacity="0.6" stroke="#CA8A04" stroke-width="1.5" />
      </g>

      <!-- Ngaoundéré (prévu - jaune) -->
      <g :transform="`translate(${cities.ngaoundere.x}, ${cities.ngaoundere.y})`">
        <circle r="5" fill="#EAB308" fill-opacity="0.6" stroke="#CA8A04" stroke-width="1.5" />
      </g>

      <!-- N'Djamena (référence - gris) -->
      <g :transform="`translate(${cities.ndjamena.x}, ${cities.ndjamena.y})`">
        <circle r="4" fill="#737373" fill-opacity="0.4" stroke="#525252" stroke-width="1" />
      </g>

      <!-- Labels des villes -->
      <!-- Douala -->
      <g :transform="`translate(${cities.douala.x + 12}, ${cities.douala.y - 50})`">
        <rect x="-3" y="-3" width="108" height="52" rx="4" fill="rgba(23,23,23,0.85)" stroke="rgba(52,211,153,0.3)" stroke-width="1"/>
        <text x="0" y="8" fill="white" font-size="10" font-weight="700">Douala</text>
        <g transform="translate(0, 15)">
          <circle cx="3" cy="0" r="2" fill="#34D399"/>
          <text x="8" y="3" fill="#34D399" font-size="8" font-weight="600">En cours</text>
        </g>
        <text x="0" y="28" fill="rgba(255,255,255,0.8)" font-size="7">12 ha | 50K EVP/an</text>
        <text x="0" y="38" fill="rgba(255,255,255,0.6)" font-size="7">300+ emplois</text>
      </g>

      <!-- Kribi -->
      <g :transform="`translate(${cities.kribi.x + 12}, ${cities.kribi.y - 10})`">
        <rect x="-3" y="-3" width="100" height="42" rx="4" fill="rgba(23,23,23,0.85)" stroke="rgba(234,179,8,0.3)" stroke-width="1"/>
        <text x="0" y="8" fill="white" font-size="10" font-weight="700">Kribi</text>
        <g transform="translate(0, 15)">
          <circle cx="3" cy="0" r="2" fill="#EAB308" fill-opacity="0.8"/>
          <text x="8" y="3" fill="#EAB308" font-size="8" font-weight="600">Prévu 2026-28</text>
        </g>
        <text x="0" y="28" fill="rgba(255,255,255,0.7)" font-size="7">Port côtier</text>
      </g>

      <!-- Ngaoundéré -->
      <g :transform="`translate(${cities.ngaoundere.x + 12}, ${cities.ngaoundere.y - 58})`">
        <rect x="-3" y="-3" width="110" height="42" rx="4" fill="rgba(23,23,23,0.85)" stroke="rgba(234,179,8,0.3)" stroke-width="1"/>
        <text x="0" y="8" fill="white" font-size="10" font-weight="700">Ngaoundéré</text>
        <g transform="translate(0, 15)">
          <circle cx="3" cy="0" r="2" fill="#EAB308" fill-opacity="0.8"/>
          <text x="8" y="3" fill="#EAB308" font-size="8" font-weight="600">Prévu 2028-30</text>
        </g>
        <text x="0" y="28" fill="rgba(255,255,255,0.7)" font-size="7">Corridor ferro.</text>
      </g>

      <!-- N'Djamena -->
      <g :transform="`translate(${cities.ndjamena.x + 12}, ${cities.ndjamena.y - 48})`">
        <rect x="-3" y="-3" width="85" height="36" rx="4" fill="rgba(23,23,23,0.85)" stroke="rgba(115,115,115,0.3)" stroke-width="1"/>
        <text x="0" y="8" fill="white" font-size="10" font-weight="700">N'Djamena</text>
        <g transform="translate(0, 15)">
          <circle cx="3" cy="0" r="2" fill="#737373" fill-opacity="0.6"/>
          <text x="8" y="3" fill="#9CA3AF" font-size="8" font-weight="600">Référence</text>
        </g>
        <text x="0" y="28" fill="rgba(255,255,255,0.6)" font-size="7">Capitale Tchad</text>
      </g>
    </template>
  </svg>
</template>

<script setup>
import { reactive, ref, onMounted, onUnmounted } from 'vue'

/**
 * MapGPM.vue - Composant carte unifié Tchad-Cameroun
 *
 * Deux modes d'affichage :
 * - background: carte décorative avec glow émeraude, opacité faible, sans labels
 * - interactive: carte complète avec villes, corridors, statuts des projets
 */

const props = defineProps({
  mode: {
    type: String,
    default: 'interactive',
    validator: (value) => ['background', 'interactive'].includes(value)
  }
})

// Positions GPS exactes des villes
const cities = reactive({
  douala: { x: 33.2, y: 491.1 },
  kribi: { x: 36.9, y: 519.3 },
  ngaoundere: { x: 132.4, y: 408.3 },
  ndjamena: { x: 170.7, y: 285.9 }
})

// ===== Animation du gradient (mode background) =====
const gradientCx = ref(52)
const gradientCy = ref(58)
let gradientAnimationId = null

onMounted(() => {
  if (props.mode === 'background') {
    let time = 0
    gradientAnimationId = setInterval(() => {
      time += 0.016 // ~60fps
      // Animation sinusoïdale ultra-subtile : cx oscille entre 50.5 et 53.5, cy entre 56.5 et 59.5
      gradientCx.value = 52 + Math.sin(time * 0.3) * 1.5
      gradientCy.value = 58 + Math.cos(time * 0.3) * 1.5
    }, 16)
  }
})

onUnmounted(() => {
  if (gradientAnimationId) {
    clearInterval(gradientAnimationId)
  }
})
</script>

<style scoped>
/* Mode background : effet subtil */
.map-background {
  opacity: 1;
}

/* Mode interactive : pleine visibilité */
.map-interactive {
  opacity: 1;
}

/* Animation pulse pour Douala */
@keyframes ping-slow {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.3;
    transform: scale(1.5);
  }
}

.animate-ping-slow {
  animation: ping-slow 3s cubic-bezier(0, 0, 0.2, 1) infinite;
}
</style>
